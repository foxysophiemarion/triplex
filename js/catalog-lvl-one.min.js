import{s as g,a as A,f as E,d as O,b}from"./app.min.js";class L{constructor(e,t=null){let s={init:!0,speed:150};if(this.config=Object.assign(s,e),this.selectClasses={classSelect:"select",classSelectBody:"select__body",classSelectTitle:"select__title--icon-spoller-right",classSelectValue:"select__value",classSelectLabel:"select__label",classSelectInput:"select__input",classSelectText:"select__text",classSelectLink:"select__link",classSelectOptions:"select__options",classSelectOptionsScroll:"select__scroll",classSelectOption:"select__option--icon-check",classSelectContent:"select__content",classSelectRow:"select__row",classSelectData:"select__asset",classSelectDisabled:"--select-disabled",classSelectTag:"--select-tag",classSelectOpen:"--select-open",classSelectActive:"--select-active",classSelectFocus:"--select-focus",classSelectMultiple:"--select-multiple",classSelectCheckBox:"--select-checkbox",classSelectOptionSelected:"--select-selected",classSelectPseudoLabel:"--select-pseudo-label"},this._this=this,this.config.init){const l=t?document.querySelectorAll(t):document.querySelectorAll("select[data-fls-select]");l.length&&this.selectsInit(l)}}getSelectClass(e){return`.${e}`}getSelectElement(e,t){return{originalSelect:e.querySelector("select"),selectElement:e.querySelector(this.getSelectClass(t))}}selectsInit(e){e.forEach((t,s)=>{this.selectInit(t,s+1)}),document.addEventListener("click",function(t){this.selectsActions(t)}.bind(this)),document.addEventListener("keydown",function(t){this.selectsActions(t)}.bind(this)),document.addEventListener("focusin",function(t){this.selectsActions(t)}.bind(this)),document.addEventListener("focusout",function(t){this.selectsActions(t)}.bind(this))}selectInit(e,t){if(t&&(e.dataset.flsSelectId=t),e.options.length){const s=this;let l=document.createElement("div");l.classList.add(this.selectClasses.classSelect),e.parentNode.insertBefore(l,e),l.appendChild(e),e.hidden=!0,this.getSelectPlaceholder(e)&&(e.dataset.placeholder=this.getSelectPlaceholder(e).value,this.getSelectPlaceholder(e).label.show&&this.getSelectElement(l,this.selectClasses.classSelectTitle).selectElement.insertAdjacentHTML("afterbegin",`<span class="${this.selectClasses.classSelectLabel}">${this.getSelectPlaceholder(e).label.text?this.getSelectPlaceholder(e).label.text:this.getSelectPlaceholder(e).value}</span>`)),l.insertAdjacentHTML("beforeend",`<div class="${this.selectClasses.classSelectBody}"><div hidden class="${this.selectClasses.classSelectOptions}"></div></div>`),this.selectBuild(e),e.dataset.flsSelectSpeed=e.dataset.flsSelectSpeed?e.dataset.flsSelectSpeed:this.config.speed,this.config.speed=+e.dataset.flsSelectSpeed,e.addEventListener("change",function(n){s.selectChange(n)})}}selectBuild(e){const t=e.parentElement;e.id&&(t.id=e.id,e.removeAttribute("id")),t.dataset.flsSelectId=e.dataset.flsSelectId,e.dataset.flsSelectModif&&t.classList.add(`select--${e.dataset.flsSelectModif}`),e.multiple?t.classList.add(this.selectClasses.classSelectMultiple):t.classList.remove(this.selectClasses.classSelectMultiple),e.hasAttribute("data-fls-select-checkbox")&&e.multiple?t.classList.add(this.selectClasses.classSelectCheckBox):t.classList.remove(this.selectClasses.classSelectCheckBox),this.setSelectTitleValue(t,e),this.setOptions(t,e),e.hasAttribute("data-fls-select-search")&&this.searchActions(t),e.hasAttribute("data-fls-select-open")&&this.selectAction(t),this.selectDisabled(t,e)}selectsActions(e){const t=e.target,s=e.type,l=t.closest(this.getSelectClass(this.selectClasses.classSelect)),n=t.closest(this.getSelectClass(this.selectClasses.classSelectTag));if(!l&&!n)return this.selects\u0421lose();const a=l||document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${n.dataset.flsSelectId}"]`),h=this.getSelectElement(a).originalSelect;if(!h.disabled)if(s==="click"){const d=t.closest(this.getSelectClass(this.selectClasses.classSelectTag)),c=t.closest(this.getSelectClass(this.selectClasses.classSelectTitle)),i=t.closest(this.getSelectClass(this.selectClasses.classSelectOption));if(d){const o=document.querySelector(`.${this.selectClasses.classSelect}[data-fls-select-id="${d.dataset.flsSelectId}"] .select__option[data-fls-select-value="${d.dataset.flsSelectValue}"]`);this.optionAction(a,h,o)}else c?this.selectAction(a):i&&this.optionAction(a,h,i)}else s==="focusin"||s==="focusout"?l&&a.classList.toggle(this.selectClasses.classSelectFocus,s==="focusin"):s==="keydown"&&e.code==="Escape"&&this.selects\u0421lose()}selects\u0421lose(e){const s=(e||document).querySelectorAll(`${this.getSelectClass(this.selectClasses.classSelect)}${this.getSelectClass(this.selectClasses.classSelectOpen)}`);s.length&&s.forEach(l=>{this.select\u0421lose(l)})}select\u0421lose(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.classList.contains("_slide")||(e.classList.remove(this.selectClasses.classSelectOpen),g(s,t.dataset.flsSelectSpeed),setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))}selectAction(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.querySelectorAll(`.${this.selectClasses.classSelectOption}`);const l=t.dataset.flsSelectZIndex?t.dataset.flsSelectZIndex:3;if(this.setOptionsPosition(e),t.closest("[data-fls-select-one]")){const n=t.closest("[data-fls-select-one]");this.selects\u0421lose(n)}setTimeout(()=>{s.classList.contains("--slide")||(e.classList.toggle(this.selectClasses.classSelectOpen),A(s,t.dataset.flsSelectSpeed),e.classList.contains(this.selectClasses.classSelectOpen)?e.style.zIndex=l:setTimeout(()=>{e.style.zIndex=""},t.dataset.flsSelectSpeed))},0)}setSelectTitleValue(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectBody).selectElement,l=this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement;l&&l.remove(),s.insertAdjacentHTML("afterbegin",this.getSelectTitleValue(e,t)),t.hasAttribute("data-fls-select-search")&&this.searchActions(e)}getSelectTitleValue(e,t){let s=this.getSelectedOptionsData(t,2).html;t.multiple&&t.hasAttribute("data-fls-select-tags")&&(s=this.getSelectedOptionsData(t).elements.map(a=>`<span role="button" data-fls-select-id="${e.dataset.flsSelectId}" data-fls-select-value="${a.value}" class="--select-tag">${this.getSelectElementContent(a)}</span>`).join(""),t.dataset.flsSelectTags&&document.querySelector(t.dataset.flsSelectTags)&&(document.querySelector(t.dataset.flsSelectTags).innerHTML=s,t.hasAttribute("data-fls-select-search")&&(s=!1))),s=s.length?s:t.dataset.flsSelectPlaceholder||"",t.hasAttribute("data-fls-select-tags")||(s=s?s.map(a=>a.replace(/"/g,'"')):"");let l="",n="";if(t.hasAttribute("data-fls-select-pseudo-label")&&(l=t.dataset.flsSelectPseudoLabel?` data-fls-select-pseudo-label="${t.dataset.flsSelectPseudoLabel}"`:' data-fls-select-pseudo-label="\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442"',n=` ${this.selectClasses.classSelectPseudoLabel}`),this.getSelectedOptionsData(t).values.length?e.classList.add(this.selectClasses.classSelectActive):e.classList.remove(this.selectClasses.classSelectActive),t.hasAttribute("data-fls-select-search"))return`<div class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}"><input autocomplete="off" type="text" placeholder="${s}" data-fls-select-placeholder="${s}" class="${this.selectClasses.classSelectInput}"></span></div>`;{const a=this.getSelectedOptionsData(t).elements.length&&this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass?` ${this.getSelectedOptionsData(t).elements[0].dataset.flsSelectClass}`:"";return`<button type="button" class="${this.selectClasses.classSelectTitle}"><span${l} class="${this.selectClasses.classSelectValue}${n}"><span class="${this.selectClasses.classSelectContent}${a}">${s}</span></span></button>`}}getSelectElementContent(e){const t=e.dataset.flsSelectAsset?`${e.dataset.flsSelectAsset}`:"",s=t.indexOf("img")>=0?`<img src="${t}" alt="">`:t;let l="";return l+=t?`<span class="${this.selectClasses.classSelectRow}">`:"",l+=t?`<span class="${this.selectClasses.classSelectData}">`:"",l+=t?s:"",l+=t?"</span>":"",l+=t?`<span class="${this.selectClasses.classSelectText}">`:"",l+=e.textContent,l+=t?"</span>":"",l+=t?"</span>":"",l}getSelectPlaceholder(e){const t=Array.from(e.options).find(s=>!s.value);if(t)return{value:t.textContent,show:t.hasAttribute("data-fls-select-show"),label:{show:t.hasAttribute("data-fls-select-label"),text:t.dataset.flsSelectLabel}}}getSelectedOptionsData(e,t){let s=[];return e.multiple?s=Array.from(e.options).filter(l=>l.value).filter(l=>l.selected):s.push(e.options[e.selectedIndex]),{elements:s.map(l=>l),values:s.filter(l=>l.value).map(l=>l.value),html:s.map(l=>this.getSelectElementContent(l))}}getOptions(e){const t=(e.hasAttribute("data-fls-select-scroll"),""),s=+e.dataset.flsSelectScroll?+e.dataset.flsSelectScroll:null;let l=Array.from(e.options);if(l.length>0){let n="";return(this.getSelectPlaceholder(e)&&!this.getSelectPlaceholder(e).show||e.multiple)&&(l=l.filter(a=>a.value)),n+=`<div ${t} ${t?`style="max-height: ${s}px"`:""} class="${this.selectClasses.classSelectOptionsScroll}">`,l.forEach(a=>{n+=this.getOption(a,e)}),n+="</div>",n}}getOption(e,t){const s=e.selected&&t.multiple?` ${this.selectClasses.classSelectOptionSelected}`:"",l=e.selected&&!t.hasAttribute("data-fls-select-show-selected")&&!t.multiple?"hidden":"",n=e.dataset.flsSelectClass?` ${e.dataset.flsSelectClass}`:"",a=e.dataset.flsSelectHref?e.dataset.flsSelectHref:!1,h=e.hasAttribute("data-fls-select-href-blank")?'target="_blank"':"";let d="";return d+=a?`<a ${h} ${l} href="${a}" data-fls-select-value="${e.value}" class="${this.selectClasses.classSelectOption}${n}${s}">`:`<button ${l} class="${this.selectClasses.classSelectOption}${n}${s}" data-fls-select-value="${e.value}" type="button">`,d+=this.getSelectElementContent(e),d+=a?"</a>":"</button>",d}setOptions(e,t){const s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;s.innerHTML=this.getOptions(t)}setOptionsPosition(e){const t=this.getSelectElement(e).originalSelect,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement,l=this.getSelectElement(e,this.selectClasses.classSelectOptionsScroll).selectElement,n=+t.dataset.flsSelectScroll?`${+t.dataset.flsSelectScroll}px`:"",a=+t.dataset.flsSelectOptionsMargin?+t.dataset.flsSelectOptionsMargin:10;if(e.classList.contains(this.selectClasses.classSelectOpen))setTimeout(()=>{e.classList.remove("select--show-top"),l.style.maxHeight=n},+t.dataset.flsSelectSpeed);else{s.hidden=!1;const h=l.offsetHeight?l.offsetHeight:parseInt(window.getComputedStyle(l).getPropertyValue("max-height")),d=s.offsetHeight>h?s.offsetHeight:h+s.offsetHeight,c=d-h;s.hidden=!0;const i=e.offsetHeight,o=e.getBoundingClientRect().top,r=o+d+i+c,u=window.innerHeight-(r+a);if(u<0){const f=d+u;f<100?(e.classList.add("select--show-top"),l.style.maxHeight=o<d?`${o-(d-o)}px`:n):(e.classList.remove("select--show-top"),l.style.maxHeight=`${f}px`)}}}optionAction(e,t,s){if(!e.querySelector(this.getSelectClass(this.selectClasses.classSelectOptions)).classList.contains("--slide")){if(t.multiple){s.classList.toggle(this.selectClasses.classSelectOptionSelected);const n=this.getSelectedOptionsData(t).elements;for(const h of n)h.removeAttribute("selected");const a=e.querySelectorAll(this.getSelectClass(this.selectClasses.classSelectOptionSelected));for(const h of a){const d=h.dataset.flsSelectValue,c=t.querySelector(`option[value="${d}"]`);c&&c.setAttribute("selected","selected")}}else t.hasAttribute("data-fls-select-show-selected")||setTimeout(()=>{const n=e.querySelector(`${this.getSelectClass(this.selectClasses.classSelectOption)}[hidden]`);n&&(n.hidden=!1),s.hidden=!0},this.config.speed),t.value=s.dataset.flsSelectValue||s.textContent,this.selectAction(e);this.setSelectTitleValue(e,t),this.setSelectChange(t)}}selectChange(e){const t=e.target;this.selectBuild(t),this.setSelectChange(t)}setSelectChange(e){if(e.hasAttribute("data-fls-select-validate")&&E.validateInput(e),e.hasAttribute("data-fls-select-submit")&&e.value){let s=document.createElement("button");s.type="submit",e.closest("form").append(s),s.click(),s.remove()}const t=e.parentElement;this.selectCallback(t,e)}selectDisabled(e,t){t.disabled?(e.classList.add(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!0):(e.classList.remove(this.selectClasses.classSelectDisabled),this.getSelectElement(e,this.selectClasses.classSelectTitle).selectElement.disabled=!1)}searchActions(e){const t=this.getSelectElement(e,this.selectClasses.classSelectInput).selectElement,s=this.getSelectElement(e,this.selectClasses.classSelectOptions).selectElement;t.addEventListener("input",()=>{const l=t.value.toLowerCase();s.querySelectorAll(`.${this.selectClasses.classSelectOption}`).forEach(a=>{const h=a.textContent.toLowerCase();a.hidden=!h.includes(l)}),s.hidden&&this.selectAction(e)})}selectCallback(e,t){document.dispatchEvent(new CustomEvent("selectCallback",{detail:{select:t}}))}}document.querySelector("select[data-fls-select]")&&window.addEventListener("load",()=>window.flsSelect=new L({}));function $(){const p=document.querySelectorAll("[data-fls-showmore]");let e,t;p.length&&(e=Array.from(p).filter(function(c,i,o){return!c.dataset.flsShowmoreMedia}),e.length&&l(e),document.addEventListener("click",d),window.addEventListener("resize",d),t=O(p,"flsShowmoreMedia"),t&&t.length&&(t.forEach(c=>{c.matchMedia.addEventListener("change",function(){l(c.itemsArray,c.matchMedia)})}),s(t)));function s(c){c.forEach(i=>{l(i.itemsArray,i.matchMedia)})}function l(c,i){c.forEach(o=>{n(o,i)})}function n(c,i=!1){c=i?c.item:c;let o=c.querySelectorAll("[data-fls-showmore-content]"),r=c.querySelectorAll("[data-fls-showmore-button]");o=Array.from(o).filter(f=>f.closest("[data-fls-showmore]")===c)[0],r=Array.from(r).filter(f=>f.closest("[data-fls-showmore]")===c)[0];const u=a(c,o);i.matches||!i?u<h(o)?(g(o,0,c.classList.contains("--showmore-active")?h(o):u),r.hidden=!1):(b(o,0,u),r.hidden=!0):(b(o,0,u),r.hidden=!0)}function a(c,i){let o=0;const r=c.dataset.flsShowmore?c.dataset.flsShowmore:"size",u=parseFloat(getComputedStyle(i).rowGap)?parseFloat(getComputedStyle(i).rowGap):0;if(r==="items"){const f=i.dataset.flsShowmoreContent?i.dataset.flsShowmoreContent:3,m=i.children;for(let S=1;S<m.length;S++){const C=m[S-1],v=parseFloat(getComputedStyle(C).marginTop)?parseFloat(getComputedStyle(C).marginTop):0,y=parseFloat(getComputedStyle(C).marginBottom)?parseFloat(getComputedStyle(C).marginBottom):0;if(o+=C.offsetHeight+v,S==f)break;o+=y}u&&(o+=(f-1)*u)}else o=i.dataset.flsShowmoreContent?i.dataset.flsShowmoreContent:150;return o}function h(c){let i,o=c.offsetHeight;c.style.removeProperty("height"),c.closest("[hidden]")&&(i=c.closest("[hidden]"),i.hidden=!1);let r=c.offsetHeight;return i&&(i.hidden=!0),c.style.height=`${o}px`,r}function d(c){const i=c.target,o=c.type;if(o==="click"){if(i.closest("[data-fls-showmore-button]")){const u=i.closest("[data-fls-showmore-button]").closest("[data-fls-showmore]"),f=u.querySelector("[data-fls-showmore-content]"),m=u.dataset.flsShowmoreButton?u.dataset.flsShowmoreButton:"500",S=a(u,f);f.classList.contains("--slide")||(u.classList.contains("--showmore-active")?g(f,m,S):b(f,m,S),u.classList.toggle("--showmore-active"))}}else o==="resize"&&(e&&e.length&&l(e),t&&t.length&&s(t))}}window.addEventListener("load",$),document.addEventListener("DOMContentLoaded",()=>{const p=document.querySelector(".search__input"),e=document.querySelectorAll(".search__checkbox");p.addEventListener("input",()=>{const t=p.value.toLowerCase();e.forEach(s=>{const l=s.querySelector(".checkbox-search__text").textContent.toLowerCase();s.style.display=l.includes(t)?"":"none"}),window.dispatchEvent(new Event("resize"))})});
